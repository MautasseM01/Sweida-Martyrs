<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sweida Martyrs Memorial - Jabal al-Arab Documentation</title>
    <meta name="description" content="Memorial documentation for victims of Sweida tragedy in Jabal al-Arab, Syria">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üïäÔ∏è</text></svg>">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React and ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel for JSX transformation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
                sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        .icon {
            display: inline-block;
            width: 1em;
            height: 1em;
            vertical-align: middle;
        }
        
        .heart-icon:before { content: "‚ù§Ô∏è"; }
        .users-icon:before { content: "üë•"; }
        .calendar-icon:before { content: "üìÖ"; }
        .map-icon:before { content: "üìç"; }
        .shield-icon:before { content: "üõ°Ô∏è"; }
        .chart-icon:before { content: "üìä"; }
        .download-icon:before { content: "‚¨áÔ∏è"; }
        .plus-icon:before { content: "‚ûï"; }
        .edit-icon:before { content: "‚úèÔ∏è"; }
        .delete-icon:before { content: "üóëÔ∏è"; }
        .search-icon:before { content: "üîç"; }
        .eye-icon:before { content: "üëÅÔ∏è"; }
        .eye-off-icon:before { content: "üôà"; }
        .upload-icon:before { content: "üì§"; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const MartyrsSystem = () => {
            const [currentMode, setCurrentMode] = useState('public');
            const [adminPassword, setAdminPassword] = useState('');
            const [isAuthenticated, setIsAuthenticated] = useState(false);
            const [entries, setEntries] = useState([]);
            const [currentEntry, setCurrentEntry] = useState({
                name: '',
                age: '',
                ageCategory: '',
                gender: '',
                region: '',
                village: '',
                familyName: '',
                relationToOthers: '',
                photo: null,
                photoUrl: '',
                source: '',
                dateFound: new Date().toISOString().split('T')[0],
                notes: '',
                verified: false,
                enteredBy: ''
            });
            const [editingId, setEditingId] = useState(null);
            const [searchTerm, setSearchTerm] = useState('');
            const [filterRegion, setFilterRegion] = useState('');
            const [showPassword, setShowPassword] = useState(false);

            const ADMIN_PASSWORD = 'sweida2024memorial';
            const VERIFIER_PASSWORD = 'verify2024';

            const regions = {
                'North Sweida': ['Shahba', 'Malah', 'Tha\'lah', 'Suwayda City North'],
                'South Sweida': ['Salkhad', 'Bosra', 'Azra', 'Suwayda City South'],
                'East Sweida': ['Qanawat', 'Shaqqa', 'Sahwat al-Balat', 'Majdal Shams'],
                'West Sweida': ['Ira', 'Qrayya', 'Baqatha', 'Dama']
            };

            const ageCategories = ['Child (0-12)', 'Teenager (13-17)', 'Adult (18-59)', 'Elderly (60+)'];
            const relationshipTypes = ['Parent', 'Child', 'Sibling', 'Spouse', 'Grandparent', 'Grandchild', 'Uncle/Aunt', 'Cousin', 'Other Relative', 'No Known Relations'];

            useEffect(() => {
                const saved = localStorage.getItem('martyrsData');
                if (saved) {
                    try {
                        setEntries(JSON.parse(saved));
                    } catch (e) {
                        console.error('Error loading saved data:', e);
                    }
                }
            }, []);

            useEffect(() => {
                localStorage.setItem('martyrsData', JSON.stringify(entries));
            }, [entries]);

            const handleLogin = () => {
                if (adminPassword === ADMIN_PASSWORD || adminPassword === VERIFIER_PASSWORD) {
                    setIsAuthenticated(true);
                    setCurrentMode('admin');
                } else {
                    alert('Invalid password');
                }
            };

            const handleLogout = () => {
                setIsAuthenticated(false);
                setCurrentMode('public');
                setAdminPassword('');
            };

            const handleSubmit = () => {
                if (!currentEntry.name || !currentEntry.ageCategory || !currentEntry.gender || !currentEntry.region || !currentEntry.village) {
                    alert('Please fill in all required fields');
                    return;
                }
                
                if (editingId) {
                    setEntries(entries.map(entry => 
                        entry.id === editingId ? { ...currentEntry, id: editingId } : entry
                    ));
                    setEditingId(null);
                } else {
                    const newEntry = {
                        ...currentEntry,
                        id: Date.now(),
                        timestamp: new Date().toISOString(),
                        enteredBy: adminPassword === ADMIN_PASSWORD ? 'Admin' : 'Verifier'
                    };
                    setEntries([...entries, newEntry]);
                }
                
                resetForm();
            };

            const resetForm = () => {
                setCurrentEntry({
                    name: '',
                    age: '',
                    ageCategory: '',
                    gender: '',
                    region: '',
                    village: '',
                    familyName: '',
                    relationToOthers: '',
                    photo: null,
                    photoUrl: '',
                    source: '',
                    dateFound: new Date().toISOString().split('T')[0],
                    notes: '',
                    verified: false,
                    enteredBy: ''
                });
            };

            const toggleVerification = (id) => {
                setEntries(entries.map(entry => 
                    entry.id === id ? { ...entry, verified: !entry.verified } : entry
                ));
            };

            const deleteEntry = (id) => {
                if (confirm('Are you sure you want to delete this entry?')) {
                    setEntries(entries.filter(entry => entry.id !== id));
                }
            };

            const editEntry = (entry) => {
                setCurrentEntry(entry);
                setEditingId(entry.id);
            };

            const handlePhotoUpload = (e) => {
                const file = e.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = (event) => {
                        setCurrentEntry({
                            ...currentEntry,
                            photo: file,
                            photoUrl: event.target.result
                        });
                    };
                    reader.readAsDataURL(file);
                }
            };

            const exportData = () => {
                const dataStr = JSON.stringify(entries, null, 2);
                const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
                const exportFileDefaultName = `sweida_martyrs_${new Date().toISOString().split('T')[0]}.json`;
                
                const linkElement = document.createElement('a');
                linkElement.setAttribute('href', dataUri);
                linkElement.setAttribute('download', exportFileDefaultName);
                linkElement.click();
            };

            const exportMediaReport = () => {
                const stats = getDetailedStatistics();
                const report = `SWEIDA MARTYRS DOCUMENTATION REPORT
Generated: ${new Date().toLocaleString()}

SUMMARY STATISTICS:
‚Ä¢ Total Documented: ${stats.total}
‚Ä¢ Children (0-12): ${stats.byAge['Child (0-12)'] || 0}
‚Ä¢ Teenagers (13-17): ${stats.byAge['Teenager (13-17)'] || 0}
‚Ä¢ Adults (18-59): ${stats.byAge['Adult (18-59)'] || 0}
‚Ä¢ Elderly (60+): ${stats.byAge['Elderly (60+)'] || 0}

FAMILY IMPACT:
‚Ä¢ Families with Multiple Casualties: ${stats.familiesAffected}
‚Ä¢ Largest Family Loss: ${stats.largestFamilyLoss} members

REGIONAL BREAKDOWN:
${Object.entries(stats.byRegion).map(([region, count]) => `‚Ä¢ ${region}: ${count}`).join('\n')}

VERIFICATION STATUS:
‚Ä¢ Verified Entries: ${stats.verified}
‚Ä¢ Pending Verification: ${stats.unverified}

This documentation represents the tragic human cost of the events in Sweida, with particular emphasis on the impact on families and children.
`;

                const dataUri = 'data:text/plain;charset=utf-8,' + encodeURIComponent(report);
                const exportFileDefaultName = `sweida_media_report_${new Date().toISOString().split('T')[0]}.txt`;
                
                const linkElement = document.createElement('a');
                linkElement.setAttribute('href', dataUri);
                linkElement.setAttribute('download', exportFileDefaultName);
                linkElement.click();
            };

            const filteredEntries = entries.filter(entry => {
                const matchesSearch = entry.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
                                     entry.village.toLowerCase().includes(searchTerm.toLowerCase()) ||
                                     (entry.familyName && entry.familyName.toLowerCase().includes(searchTerm.toLowerCase()));
                const matchesRegion = filterRegion === '' || entry.region === filterRegion;
                return matchesSearch && matchesRegion;
            });

            const getDetailedStatistics = () => {
                const total = entries.length;
                const verified = entries.filter(e => e.verified).length;
                const unverified = total - verified;
                
                const byAge = ageCategories.reduce((acc, cat) => {
                    acc[cat] = entries.filter(e => e.ageCategory === cat).length;
                    return acc;
                }, {});
                
                const byRegion = Object.keys(regions).reduce((acc, region) => {
                    acc[region] = entries.filter(e => e.region === region).length;
                    return acc;
                }, {});

                const familyGroups = entries.reduce((acc, entry) => {
                    if (entry.familyName) {
                        if (!acc[entry.familyName]) acc[entry.familyName] = [];
                        acc[entry.familyName].push(entry);
                    }
                    return acc;
                }, {});

                const familiesAffected = Object.keys(familyGroups).length;
                const largestFamilyLoss = Math.max(...Object.values(familyGroups).map(family => family.length), 0);
                
                return { total, byAge, byRegion, verified, unverified, familiesAffected, largestFamilyLoss, familyGroups };
            };

            const stats = getDetailedStatistics();

            // Public Display Mode
            if (currentMode === 'public' && !isAuthenticated) {
                return (
                    <div className="min-h-screen bg-gradient-to-br from-gray-900 via-red-900 to-black text-white">
                        <div className="max-w-6xl mx-auto p-6">
                            {/* Header */}
                            <div className="text-center mb-8">
                                <h1 className="text-4xl font-bold mb-4">In Memory of Sweida Martyrs</h1>
                                <p className="text-xl text-gray-300 mb-2">Jabal al-Arab Tragedy Documentation</p>
                                <p className="text-gray-400">Honoring the lives lost and their families</p>
                            </div>

                            {/* Key Statistics */}
                            <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                                <div className="bg-red-800/50 backdrop-blur p-6 rounded-lg border border-red-700">
                                    <span className="heart-icon text-2xl block mb-2"></span>
                                    <h3 className="font-semibold text-red-200">Total Lives Lost</h3>
                                    <p className="text-3xl font-bold text-white">{stats.total}</p>
                                </div>
                                <div className="bg-blue-800/50 backdrop-blur p-6 rounded-lg border border-blue-700">
                                    <span className="users-icon text-2xl block mb-2"></span>
                                    <h3 className="font-semibold text-blue-200">Children</h3>
                                    <p className="text-2xl font-bold text-white">{stats.byAge['Child (0-12)'] || 0}</p>
                                    <p className="text-sm text-blue-300">Ages 0-12</p>
                                </div>
                                <div className="bg-purple-800/50 backdrop-blur p-6 rounded-lg border border-purple-700">
                                    <span className="calendar-icon text-2xl block mb-2"></span>
                                    <h3 className="font-semibold text-purple-200">Teenagers</h3>
                                    <p className="text-2xl font-bold text-white">{stats.byAge['Teenager (13-17)'] || 0}</p>
                                    <p className="text-sm text-purple-300">Ages 13-17</p>
                                </div>
                                <div className="bg-orange-800/50 backdrop-blur p-6 rounded-lg border border-orange-700">
                                    <span className="heart-icon text-2xl block mb-2"></span>
                                    <h3 className="font-semibold text-orange-200">Families Affected</h3>
                                    <p className="text-2xl font-bold text-white">{stats.familiesAffected}</p>
                                    <p className="text-sm text-orange-300">Multiple losses</p>
                                </div>
                            </div>

                            {/* Family Impact Section */}
                            {stats.familiesAffected > 0 && (
                                <div className="bg-gray-800/50 backdrop-blur rounded-lg p-6 mb-8 border border-gray-700">
                                    <h2 className="text-2xl font-bold mb-4 text-white">Family Tragedy Impact</h2>
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <div>
                                            <h3 className="text-lg font-semibold text-gray-300 mb-3">Families with Multiple Casualties</h3>
                                            <div className="space-y-2">
                                                {Object.entries(stats.familyGroups)
                                                    .filter(([_, members]) => members.length > 1)
                                                    .sort(([_, a], [__, b]) => b.length - a.length)
                                                    .slice(0, 5)
                                                    .map(([familyName, members]) => (
                                                    <div key={familyName} className="flex justify-between items-center p-3 bg-red-900/30 rounded">
                                                        <span className="font-medium">{familyName} Family</span>
                                                        <span className="bg-red-700 text-white px-2 py-1 rounded text-sm">
                                                            {members.length} members lost
                                                        </span>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>
                                        <div>
                                            <h3 className="text-lg font-semibold text-gray-300 mb-3">Age Distribution</h3>
                                            <div className="space-y-3">
                                                {ageCategories.map(category => {
                                                    const count = stats.byAge[category] || 0;
                                                    const percentage = stats.total > 0 ? ((count / stats.total) * 100).toFixed(1) : 0;
                                                    return (
                                                        <div key={category} className="flex justify-between items-center">
                                                            <span className="text-gray-300">{category}</span>
                                                            <div className="flex items-center gap-2">
                                                                <div className="w-16 bg-gray-700 rounded-full h-2">
                                                                    <div 
                                                                        className="bg-red-500 h-2 rounded-full" 
                                                                        style={{ width: `${percentage}%` }}
                                                                    ></div>
                                                                </div>
                                                                <span className="text-white font-medium w-12 text-right">{count}</span>
                                                            </div>
                                                        </div>
                                                    );
                                                })}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}

                            {/* Regional Impact */}
                            <div className="bg-gray-800/50 backdrop-blur rounded-lg p-6 mb-8 border border-gray-700">
                                <h2 className="text-2xl font-bold mb-4 text-white flex items-center gap-2">
                                    <span className="map-icon"></span>
                                    Regional Impact
                                </h2>
                                <div className="grid grid-cols-2 md:grid-cols-4 gap-4">
                                    {Object.entries(stats.byRegion).map(([region, count]) => (
                                        <div key={region} className="bg-gray-700/50 p-4 rounded-lg">
                                            <h3 className="font-semibold text-gray-300">{region}</h3>
                                            <p className="text-2xl font-bold text-white">{count}</p>
                                            <p className="text-sm text-gray-400">casualties</p>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {/* Memorial List */}
                            <div className="bg-gray-800/50 backdrop-blur rounded-lg p-6 border border-gray-700">
                                <h2 className="text-2xl font-bold mb-4 text-white">Memorial Roll</h2>
                                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-96 overflow-y-auto">
                                    {entries.filter(e => e.verified).map(entry => (
                                        <div key={entry.id} className="bg-gray-700/50 p-4 rounded-lg border border-gray-600">
                                            <div className="flex items-start gap-3">
                                                {entry.photoUrl && (
                                                    <img src={entry.photoUrl} alt={entry.name} className="w-12 h-12 object-cover rounded-full" />
                                                )}
                                                <div className="flex-1">
                                                    <h3 className="font-semibold text-white">{entry.name}</h3>
                                                    <p className="text-sm text-gray-400">{entry.ageCategory}</p>
                                                    <p className="text-sm text-gray-400">{entry.region} - {entry.village}</p>
                                                    {entry.familyName && (
                                                        <p className="text-xs text-gray-500">{entry.familyName} Family</p>
                                                    )}
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {/* Admin Access */}
                            <div className="text-center mt-8">
                                <button
                                    onClick={() => setCurrentMode('admin')}
                                    className="text-gray-400 hover:text-white text-sm flex items-center gap-2 mx-auto"
                                >
                                    <span className="shield-icon"></span>
                                    Admin/Verifier Access
                                </button>
                            </div>
                        </div>
                    </div>
                );
            }

            // Admin Login
            if (currentMode === 'admin' && !isAuthenticated) {
                return (
                    <div className="min-h-screen bg-gray-900 flex items-center justify-center">
                        <div className="bg-white rounded-lg shadow-xl p-8 w-full max-w-md">
                            <h2 className="text-2xl font-bold text-center mb-6">Admin/Verifier Login</h2>
                            <div className="space-y-4">
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-1">Password</label>
                                    <div className="relative">
                                        <input
                                            type={showPassword ? 'text' : 'password'}
                                            value={adminPassword}
                                            onChange={(e) => setAdminPassword(e.target.value)}
                                            className="w-full border border-gray-300 rounded-lg px-3 py-2 pr-10 focus:ring-2 focus:ring-blue-500"
                                            placeholder="Enter password"
                                            onKeyPress={(e) => e.key === 'Enter' && handleLogin()}
                                        />
                                        <button
                                            type="button"
                                            onClick={() => setShowPassword(!showPassword)}
                                            className="absolute right-3 top-2.5 text-gray-400 hover:text-gray-600"
                                        >
                                            <span className={showPassword ? 'eye-off-icon' : 'eye-icon'}></span>
                                        </button>
                                    </div>
                                </div>
                                <div className="flex gap-2">
                                    <button
                                        onClick={handleLogin}
                                        className="flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700"
                                    >
                                        Login
                                    </button>
                                    <button
                                        onClick={() => setCurrentMode('public')}
                                        className="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50"
                                    >
                                        Back
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                );
            }

            // Admin Interface
            return (
                <div className="min-h-screen bg-gray-50 p-4">
                    <div className="max-w-7xl mx-auto">
                        {/* Admin Header */}
                        <div className="bg-white rounded-lg shadow-lg p-6 mb-6">
                            <div className="flex justify-between items-center mb-4">
                                <h1 className="text-3xl font-bold text-gray-900">Sweida Martyrs - Admin Panel</h1>
                                <div className="flex gap-2">
                                    <button
                                        onClick={() => setCurrentMode('public')}
                                        className="bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700"
                                    >
                                        View Public Display
                                    </button>
                                    <button
                                        onClick={handleLogout}
                                        className="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700"
                                    >
                                        Logout
                                    </button>
                                </div>
                            </div>
                            
                            {/* Statistics */}
                            <div className="grid grid-cols-2 md:grid-cols-5 gap-4 mb-6">
                                <div className="bg-red-100 p-4 rounded-lg">
                                    <h3 className="font-semibold text-red-800">Total Documented</h3>
                                    <p className="text-2xl font-bold text-red-900">{stats.total}</p>
                                </div>
                                <div className="bg-green-100 p-4 rounded-lg">
                                    <h3 className="font-semibold text-green-800">Verified</h3>
                                    <p className="text-xl font-bold text-green-900">{stats.verified}</p>
                                </div>
                                <div className="bg-yellow-100 p-4 rounded-lg">
                                    <h3 className="font-semibold text-yellow-800">Pending</h3>
                                    <p className="text-xl font-bold text-yellow-900">{stats.unverified}</p>
                                </div>
                                <div className="bg-blue-100 p-4 rounded-lg">
                                    <h3 className="font-semibold text-blue-800">Children</h3>
                                    <p className="text-xl font-bold text-blue-900">{stats.byAge['Child (0-12)'] || 0}</p>
                                </div>
                                <div className="bg-purple-100 p-4 rounded-lg">
                                    <h3 className="font-semibold text-purple-800">Families</h3>
                                    <p className="text-xl font-bold text-purple-900">{stats.familiesAffected}</p>
                                </div>
                            </div>

                            {/* Export Controls */}
                            <div className="flex flex-wrap gap-2">
                                <button
                                    onClick={exportData}
                                    className="flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700"
                                >
                                    <span className="download-icon"></span>
                                    Export Data
                                </button>
                                <button
                                    onClick={exportMediaReport}
                                    className="flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700"
                                >
                                    <span className="chart-icon"></span>
                                    Export Media Report
                                </button>
                            </div>
                        </div>

                        <div className="grid grid-cols-1 lg:grid-cols-2 gap-6">
                            {/* Entry Form */}
                            <div className="bg-white rounded-lg shadow-lg p-6">
                                <h2 className="text-xl font-bold mb-4">
                                    {editingId ? 'Edit Entry' : 'Add New Entry'}
                                </h2>
                                
                                <div className="space-y-4">
                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">Full Name *</label>
                                            <input
                                                type="text"
                                                value={currentEntry.name}
                                                onChange={(e) => setCurrentEntry({...currentEntry, name: e.target.value})}
                                                className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500"
                                                required
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">Family Name</label>
                                            <input
                                                type="text"
                                                value={currentEntry.familyName}
                                                onChange={(e) => setCurrentEntry({...currentEntry, familyName: e.target.value})}
                                                className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500"
                                                placeholder="For family relationship tracking"
                                            />
                                        </div>
                                    </div>

                                    <div className="grid grid-cols-3 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">Age</label>
                                            <input
                                                type="number"
                                                value={currentEntry.age}
                                                onChange={(e) => setCurrentEntry({...currentEntry, age: e.target.value})}
                                                className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500"
                                            />
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">Age Category *</label>
                                            <select
                                                value={currentEntry.ageCategory}
                                                onChange={(e) => setCurrentEntry({...currentEntry, ageCategory: e.target.value})}
                                                className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500"
                                                required
                                            >
                                                <option value="">Select...</option>
                                                {ageCategories.map(cat => (
                                                    <option key={cat} value={cat}>{cat}</option>
                                                ))}
                                            </select>
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">Gender *</label>
                                            <select
                                                value={currentEntry.gender}
                                                onChange={(e) => setCurrentEntry({...currentEntry, gender: e.target.value})}
                                                className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500"
                                                required
                                            >
                                                <option value="">Select...</option>
                                                <option value="Male">Male</option>
                                                <option value="Female">Female</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Relationship to Other Martyrs</label>
                                        <select
                                            value={currentEntry.relationToOthers}
                                            onChange={(e) => setCurrentEntry({...currentEntry, relationToOthers: e.target.value})}
                                            className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500"
                                        >
                                            <option value="">Select relationship...</option>
                                            {relationshipTypes.map(rel => (
                                                <option key={rel} value={rel}>{rel}</option>
                                            ))}
                                        </select>
                                    </div>

                                    <div className="grid grid-cols-2 gap-4">
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">Region *</label>
                                            <select
                                                value={currentEntry.region}
                                                onChange={(e) => setCurrentEntry({...currentEntry, region: e.target.value, village: ''})}
                                                className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500"
                                                required
                                            >
                                                <option value="">Select...</option>
                                                {Object.keys(regions).map(region => (
                                                    <option key={region} value={region}>{region}</option>
                                                ))}
                                            </select>
                                        </div>
                                        <div>
                                            <label className="block text-sm font-medium text-gray-700 mb-1">Village/City *</label>
                                            <select
                                                value={currentEntry.village}
                                                onChange={(e) => setCurrentEntry({...currentEntry, village: e.target.value})}
                                                className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500"
                                                required
                                                disabled={!currentEntry.region}
                                            >
                                                <option value="">Select...</option>
                                                {currentEntry.region && regions[currentEntry.region].map(village => (
                                                    <option key={village} value={village}>{village}</option>
                                                ))}
                                            </select>
                                        </div>
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Photo</label>
                                        <input
                                            type="file"
                                            accept="image/*"
                                            onChange={handlePhotoUpload}
                                            className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500"
                                        />
                                        {currentEntry.photoUrl && (
                                            <img src={currentEntry.photoUrl} alt="Preview" className="mt-2 max-w-24 max-h-24 object-cover rounded" />
                                        )}
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Source</label>
                                        <input
                                            type="text"
                                            value={currentEntry.source}
                                            onChange={(e) => setCurrentEntry({...currentEntry, source: e.target.value})}
                                            className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500"
                                            placeholder="Facebook post URL, news article, etc."
                                        />
                                    </div>

                                    <div>
                                        <label className="block text-sm font-medium text-gray-700 mb-1">Notes</label>
                                        <textarea
                                            value={currentEntry.notes}
                                            onChange={(e) => setCurrentEntry({...currentEntry, notes: e.target.value})}
                                            className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 h-20"
                                            placeholder="Additional information..."
                                        />
                                    </div>

                                    <div className="flex gap-2">
                                        <button
                                            type="button"
                                            onClick={handleSubmit}
                                            className="flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2"
                                        >
                                            <span className="plus-icon"></span>
                                            {editingId ? 'Update Entry' : 'Add Entry'}
                                        </button>
                                        {editingId && (
                                            <button
                                                type="button"
                                                onClick={() => {
                                                    setEditingId(null);
                                                    resetForm();
                                                }}
                                                className="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50"
                                            >
                                                Cancel
                                            </button>
                                        )}
                                    </div>
                                </div>
                            </div>

                            {/* Entries List */}
                            <div className="bg-white rounded-lg shadow-lg p-6">
                                <div className="flex justify-between items-center mb-4">
                                    <h2 className="text-xl font-bold">Entries ({filteredEntries.length})</h2>
                                </div>

                                {/* Search and Filter */}
                                <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                    <div className="relative">
                                        <span className="search-icon absolute left-3 top-3 text-gray-400"></span>
                                        <input
                                            type="text"
                                            placeholder="Search by name, village, or family..."
                                            value={searchTerm}
                                            onChange={(e) => setSearchTerm(e.target.value)}
                                            className="w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                                        />
                                    </div>
                                    <select
                                        value={filterRegion}
                                        onChange={(e) => setFilterRegion(e.target.value)}
                                        className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500"
                                    >
                                        <option value="">All Regions</option>
                                        {Object.keys(regions).map(region => (
                                            <option key={region} value={region}>{region}</option>
                                        ))}
                                    </select>
                                </div>

                                {/* Entries */}
                                <div className="space-y-3 max-h-96 overflow-y-auto">
                                    {filteredEntries.map(entry => (
                                        <div key={entry.id} className={`border rounded-lg p-4 ${entry.verified ? 'border-green-200 bg-green-50' : 'border-gray-200'}`}>
                                            <div className="flex justify-between items-start">
                                                <div className="flex-1">
                                                    <div className="flex items-center gap-2 mb-1">
                                                        <h3 className="font-semibold text-lg">{entry.name}</h3>
                                                        {entry.familyName && (
                                                            <span className="bg-blue-100 text-blue-800 px-2 py-1 rounded text-xs">
                                                                {entry.familyName} Family
                                                            </span>
                                                        )}
                                                        {entry.verified ? (
                                                            <span className="bg-green-100 text-green-800 px-2 py-1 rounded text-xs">Verified</span>
                                                        ) : (
                                                            <span className="bg-yellow-100 text-yellow-800 px-2 py-1 rounded text-xs">Pending</span>
                                                        )}
                                                    </div>
                                                    <p className="text-sm text-gray-600">
                                                        {entry.ageCategory} ‚Ä¢ {entry.gender} ‚Ä¢ Age: {entry.age || 'Unknown'}
                                                    </p>
                                                    <p className="text-sm text-gray-600">
                                                        {entry.region} - {entry.village}
                                                    </p>
                                                    {entry.relationToOthers && (
                                                        <p className="text-xs text-purple-600">{entry.relationToOthers}</p>
                                                    )}
                                                    {entry.source && (
                                                        <p className="text-xs text-blue-600 mt-1">Source: {entry.source}</p>
                                                    )}
                                                </div>
                                                <div className="flex gap-2 ml-4">
                                                    {entry.photoUrl && (
                                                        <img src={entry.photoUrl} alt={entry.name} className="w-12 h-12 object-cover rounded" />
                                                    )}
                                                    <div className="flex flex-col gap-1">
                                                        <button
                                                            onClick={() => toggleVerification(entry.id)}
                                                            className={`p-1 rounded ${entry.verified ? 'text-green-600 hover:bg-green-50' : 'text-yellow-600 hover:bg-yellow-50'}`}
                                                            title={entry.verified ? 'Mark as unverified' : 'Mark as verified'}
                                                        >
                                                            <span className="shield-icon"></span>
                                                        </button>
                                                        <button
                                                            onClick={() => editEntry(entry)}
                                                            className="p-1 text-blue-600 hover:bg-blue-50 rounded"
                                                        >
                                                            <span className="edit-icon"></span>
                                                        </button>
                                                        <button
                                                            onClick={() => deleteEntry(entry.id)}
                                                            className="p-1 text-red-600 hover:bg-red-50 rounded"
                                                        >
                                                            <span className="delete-icon"></span>
                                                        </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        // Render the app
        ReactDOM.render(React.createElement(MartyrsSystem), document.getElementById('root'));
    </script>
</body>
</html>